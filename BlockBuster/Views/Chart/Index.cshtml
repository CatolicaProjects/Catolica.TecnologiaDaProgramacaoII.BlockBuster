@{
    ViewBag.Title = "Index";
}
<input type="button" id="filter" name="filter" value="Filter" />
<div id="chart_div" style="width: 900px; height: 500px;"></div>


<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

    $(function () {

        $('#filter').on('click', function () {
            $.ajax({
                url: 'https://www.google.com/jsapi?callback',
                cache: true,
                dataType: 'script',
                success: function () {
                    google.load('visualization', '1', {
                        packages: ['corechart'], 'callback': function () {
                            $.ajax({
                                type: "POST",
                                dataType: "json",
                                data: "",
                                url: "/Chart/AtoresEOTotalDeTitulosPorAtor",
                                success: function (jsondata) {
                                    //var data = google.visualization.arrayToDataTable(jsondata);

                                    //var options = { title: 'My Daily Activities' };

                                    //var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                                    //chart.draw(data, options);

                                    //var data = new google.visualization.DataTable();
                                    var data = new google.visualization.DataTable();
                                    //arrayToDataTable(jsondata);
                                    data.addColumn('string', 'Atores');
                                    data.addColumn('number', 'Títulos');
                                    data.addRows(jsondata);
                                    //  ['Mushrooms', 3],
                                    //  ['Onions', 1],
                                    //  ['Olives', 1],
                                    //  ['Zucchini', 1],
                                    //  ['Pepperoni', 2]
                                    //]);

                                    // Set chart options
                                    var options = {
                                        'title': 'How Much Pizza I Ate Last Night',
                                        'width': 400,
                                        'height': 300
                                    };

                                    // Instantiate and draw our chart, passing in some options.
                                    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                                    chart.draw(data, options);
                                }
                            });
                        }
                    });
                }
            });
        });
    });

</script>

@*google.load("visualization", "1", { packages: ["corechart"] });
                    function drawVisualization() {

                        var data = google.visualization.arrayToDataTable([
                          ['Task', 'Hours per Day'],
                          ['Work', 11],
                          ['Eat', 2],
                          ['Commute', 2],
                          ['Watch TV', 2],
                          ['Sleep', 7]
                        ]);

                        var options = {
                            title: 'My Daily Activities',
                            pieHole: 0.4,
                        };

                        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
                        chart.draw(data, options);
                    }*@

@*$.ajax({
                url: "/Chart/AtoresEOTotalDeTitulosPorAtor",
                success: function (result) {
                    // Load the Visualization API and the piechart package.
                    google.load('visualization', '1.0', { 'packages': ['corechart'] });

                    // Set a callback to run when the Google Visualization API is loaded.
                    google.setOnLoadCallback(drawChart);

                    // Callback that creates and populates a data table,
                    // instantiates the pie chart, passes in the data and
                    // draws it.
                    function drawChart() {

                        // Create the data table.
                        var data = new google.visualization.DataTable();
                        data.addColumn('string', 'Topping');
                        data.addColumn('number', 'Slices');
                        data.addRows([
                          ['Mushrooms', 3],
                          ['Onions', 1],
                          ['Olives', 1],
                          ['Zucchini', 1],
                          ['Pepperoni', 2]
                        ]);

                        // Set chart options
                        var options = {
                            'title': 'How Much Pizza I Ate Last Night',
                            'width': 400,
                            'height': 300
                        };

                        // Instantiate and draw our chart, passing in some options.
                        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                        chart.draw(data, options);
                    }
                }
            });*@


@*$(function () {
        $("#filter").click(function () {

            // Load the Visualization API and the piechart package.
            google.load('visualization', '1', { 'packages': ['corechart'] });

            // Set a callback to run when the Google Visualization API is loaded.
            google.setOnLoadCallback(drawChart);

            function drawChart() {
                var jsonData = $.ajax({
                    url: "/Chart/AtoresEOTotalDeTitulosPorAtor",
                    dataType: "json",
                    async: false
                }).responseText;

                // Create our data table out of JSON data loaded from server.
                var data = new google.visualization.DataTable(jsonData);

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                chart.draw(data, { width: 400, height: 240 });
            }          
        });
    });*@
